import{R as m,u as p,a as f,j as t,B as l}from"./index-BaSnlIDM.js";import{P as C,F as i}from"./FormInput-BlxF78eT.js";import{a as x}from"./customer-CTPJi7P1.js";function N({isOpen:c,setIsOpen:u,className:d}){const[s,o]=m.useState(""),[a,n]=m.useState(""),b=p(),r=f({mutationFn:e=>x({...e}),onSuccess:()=>{o(""),n(""),u(!1),b.invalidateQueries({queryKey:["customers-table"]})},onError:e=>{console.error(e),alert("حدث خطأ أثناء إضافة الزبون")}});return t.jsx(C,{title:"اضافة الزبون",isOpen:c,setIsOpen:u,trigger:t.jsx(l,{type:"button",variant:"default",className:`w-full ${d}`,children:"اضافة زبون"}),children:t.jsxs("form",{action:"",className:"space-y-4",onSubmit:()=>{if(!s||!a){alert("يرجى ملء جميع الحقول");return}else r.mutate({name:s,number:a})},children:[t.jsx(i,{id:"customer-name",label:"اسم الزبون",value:s,onChange:e=>o(e.target.value)}),t.jsx(i,{type:"number",id:"customer-number",label:"رقم الزبون",value:a,onChange:e=>n(e.target.value)}),t.jsx(l,{type:"submit",className:"w-full",disabled:r.isPending,children:r.isPending?"جاري الإضافة...":"اضافة"})]})})}export{N as C};
