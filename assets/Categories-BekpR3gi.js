import{f as u,l as g,T as h,r as f,j as e,L as p}from"./index-Os8Og7uJ.js";import{D as j,B as b}from"./badge-CTYeo7Ag.js";import{C as c,a as x,c as m,b as v}from"./card-BPl_Jv0_.js";import{S as y}from"./search-D-IYHy0B.js";import{E as C}from"./eye-FkwR99ns.js";import"./button-BUEtkSAn.js";import"./house-ClFp9T6b.js";function N(){const o=u();return{groupByCategory:()=>{const l=o.getQueryData(["products-table"]);return l?l.reduce((t,r)=>{const a=r.category.trim()||"بدون تصنيف";return t[a]||(t[a]=[]),t[a].push(r),t},{}):{}}}}const P=()=>{const o=g(),{isLoading:d}=h(),{groupByCategory:l}=N(),t=l(),[r,a]=f.useState(""),n=Object.entries(t).filter(([s])=>s.toLowerCase().includes(r.toLowerCase()));return e.jsxs(j,{children:[n.length===0&&e.jsx("div",{className:"flex h-[300px] flex-col items-center justify-center gap-2 rounded-xl border border-dashed text-center",children:e.jsx("p",{className:"text-lg font-medium",children:"لا يوجد اصناف مطابقة للبحث"})}),d?e.jsx(p,{}):e.jsx(e.Fragment,{children:e.jsxs(c,{children:[e.jsxs(x,{className:"mb-6 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"الأصناف"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"إدارة جميع الأصناف ومتابعة حالتها"})]}),e.jsx("div",{className:"flex w-full gap-2 sm:w-auto",children:e.jsxs("div",{className:"relative w-full sm:w-[260px]",children:[e.jsx(y,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground"}),e.jsx("input",{value:r,onChange:s=>a(s.target.value),placeholder:"ابحث عن صنف...",className:"h-10 w-full rounded-md border bg-background pl-10 pr-3 text-sm outline-none focus:ring-2 focus:ring-primary"})]})})]}),e.jsxs(m,{children:[n.length===0&&e.jsx("div",{className:"flex h-[300px] flex-col items-center justify-center gap-2 rounded-xl border border-dashed text-center",children:e.jsx("p",{className:"text-lg font-medium",children:"لا يوجد اصناف مطابقة للبحث"})}),e.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:n.map(([s,i])=>e.jsxs(c,{onDoubleClick:()=>o(`/categories/${s}`,{state:{products:i}}),className:"group relative overflow-hidden transition-all hover:-translate-y-1 hover:shadow-lg",children:[e.jsxs(x,{className:"flex flex-row items-start justify-between gap-2",children:[e.jsx("div",{children:e.jsx(v,{className:"text-lg font-semibold",children:s})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(b,{children:[i.length," منتج"]}),e.jsx("button",{onClick:()=>o(`/categories/${s}`,{state:{products:i}}),className:"rounded-md p-1 text-muted-foreground transition hover:bg-muted hover:text-primary",title:"عرض التفاصيل",children:e.jsx(C,{size:18})})]})]}),e.jsx(m,{className:"space-y-3 text-sm"}),e.jsx("div",{className:"absolute inset-x-0 bottom-0 h-[2px] bg-primary scale-x-0 transition-transform group-hover:scale-x-100"})]},s))})]})]})})]})};export{P as default};
