import{R as m,h as b,j as t}from"./index-DiQH1MVD.js";import{P as f,F as i}from"./FormInput-CASvz7qr.js";import{B as l}from"./button-OYVM9TCz.js";import{a as C}from"./customer-Dxl2PIIk.js";import{u as x}from"./useMutation-B7Bn7gVY.js";function v({isOpen:c,setIsOpen:o,className:d}){const[r,u]=m.useState(""),[s,n]=m.useState(""),p=b(),a=x({mutationFn:e=>C({...e}),onSuccess:()=>{u(""),n(""),o(!1),p.invalidateQueries({queryKey:["customers-table"]})},onError:e=>{console.error(e),alert("حدث خطأ أثناء إضافة الزبون")}});return t.jsx(f,{title:"اضافة الزبون",isOpen:c,setIsOpen:o,trigger:t.jsx(l,{type:"button",variant:"default",className:`w-full ${d}`,children:"اضافة زبون"}),children:t.jsxs("form",{action:"",className:"space-y-4",onSubmit:()=>{if(!r||!s){alert("يرجى ملء جميع الحقول");return}else a.mutate({name:r,number:s})},children:[t.jsx(i,{id:"customer-name",label:"اسم الزبون",value:r,onChange:e=>u(e.target.value)}),t.jsx(i,{type:"number",id:"customer-number",label:"رقم الزبون",value:s,onChange:e=>n(e.target.value)}),t.jsx(l,{type:"submit",className:"w-full",disabled:a.isPending,children:a.isPending?"جاري الإضافة...":"اضافة"})]})})}export{v as C};
