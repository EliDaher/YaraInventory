import{R as m,h as p,j as t,B as i}from"./index-B9Hbub3a.js";import{P as f,F as l}from"./FormInput-Cd4NdAnV.js";import{a as C}from"./customer-C8Pj8vHY.js";import{u as x}from"./badge-B0P1iBeR.js";function N({isOpen:c,setIsOpen:u,className:d}){const[s,o]=m.useState(""),[r,n]=m.useState(""),b=p(),a=x({mutationFn:e=>C({...e}),onSuccess:()=>{o(""),n(""),u(!1),b.invalidateQueries({queryKey:["customers-table"]})},onError:e=>{console.error(e),alert("حدث خطأ أثناء إضافة الزبون")}});return t.jsx(f,{title:"اضافة الزبون",isOpen:c,setIsOpen:u,trigger:t.jsx(i,{type:"button",variant:"default",className:`w-full ${d}`,children:"اضافة زبون"}),children:t.jsxs("form",{action:"",className:"space-y-4",onSubmit:()=>{if(!s||!r){alert("يرجى ملء جميع الحقول");return}else a.mutate({name:s,number:r})},children:[t.jsx(l,{id:"customer-name",label:"اسم الزبون",value:s,onChange:e=>o(e.target.value)}),t.jsx(l,{type:"number",id:"customer-number",label:"رقم الزبون",value:r,onChange:e=>n(e.target.value)}),t.jsx(i,{type:"submit",className:"w-full",disabled:a.isPending,children:a.isPending?"جاري الإضافة...":"اضافة"})]})})}export{N as C};
