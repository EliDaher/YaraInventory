import{k as p,r as i,l as h,j as e,J as n}from"./index-CjkZiZSH.js";import{c as y,B as f}from"./button-BgzGu4Sa.js";import{I as m}from"./input-BnqY-c5L.js";import{C as v}from"./card-BqDxa_jD.js";import{U as w}from"./user-CdSRfBsv.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b=y("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);async function j({username:r,password:o}){try{return(await p.post("/api/auth/login",{username:r,password:o,role:"admin"})).data}catch(a){throw console.error("خطأ في تسجيل الدخول:",a),new Error("خطأ أثناء تسجيل الدخول")}}function C(){const[r,o]=i.useState(""),[a,g]=i.useState(""),[l,c]=i.useState(!1),u=h(),x=async s=>{var d;if(s.preventDefault(),!r||!a){n.error("يرجى إدخال اسم المستخدم وكلمة المرور");return}try{c(!0);const t=await j({username:r,password:a});(d=t==null?void 0:t.message)!=null&&d.includes("بنجاح")?(localStorage.setItem("InventoryUser",JSON.stringify(t.user)),n.success("تم تسجيل الدخول بنجاح"),u("/dashboard")):n.error((t==null?void 0:t.error)||"فشل تسجيل الدخول")}catch{n.error("حدث خطأ غير متوقع")}finally{c(!1)}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br  from-white via-gray-200 to-gray-100 px-4",children:e.jsxs(v,{className:"w-full max-w-md p-8 rounded-2xl shadow-2xl backdrop-blur-xl bg-white/90 dark:bg-gray-900/90 border border-white/20 space-y-6 transition-all duration-300",children:[e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("h1",{className:"text-3xl font-extrabold bg-gradient-to-r from-primary-600 to-accent-600 bg-clip-text text-transparent",children:"Inventory System"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"تسجيل الدخول إلى حسابك"})]}),e.jsxs("form",{onSubmit:x,className:"space-y-5",children:[e.jsxs("div",{className:"relative",children:[e.jsx(w,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx(m,{type:"text",placeholder:"اسم المستخدم",value:r,onChange:s=>o(s.target.value),className:"pl-9 h-11 rounded-lg focus:ring-2 focus:ring-indigo-500 transition"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(b,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx(m,{type:"password",placeholder:"كلمة المرور",value:a,onChange:s=>g(s.target.value),className:"pl-9 h-11 rounded-lg focus:ring-2 focus:ring-indigo-500 transition"})]}),e.jsx(f,{type:"submit",disabled:l,loading:l,className:"w-full",size:"lg",variant:"accent",children:"تسجيل الدخول"})]}),e.jsxs("div",{className:"text-center text-xs text-gray-400 dark:text-gray-500",children:["© ",new Date().getFullYear()," Inventory Management System"]})]})})}export{C as default};
