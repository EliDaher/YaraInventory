import{R as m,f as p,j as t}from"./index-H-wgWPw7.js";import{P as b,F as i}from"./FormInput-CFG--yAp.js";import{B as l}from"./button-CZhGKD8l.js";import{a as C}from"./customer-K5Rhq7Uc.js";import{u as x}from"./badge-gArzQKeM.js";function v({isOpen:c,setIsOpen:o,className:d}){const[r,u]=m.useState(""),[s,n]=m.useState(""),f=p(),a=x({mutationFn:e=>C({...e}),onSuccess:()=>{u(""),n(""),o(!1),f.invalidateQueries({queryKey:["customers-table"]})},onError:e=>{console.error(e),alert("حدث خطأ أثناء إضافة الزبون")}});return t.jsx(b,{title:"اضافة الزبون",isOpen:c,setIsOpen:o,trigger:t.jsx(l,{type:"button",variant:"default",className:`w-full ${d}`,children:"اضافة زبون"}),children:t.jsxs("form",{action:"",className:"space-y-4",onSubmit:()=>{if(!r||!s){alert("يرجى ملء جميع الحقول");return}else a.mutate({name:r,number:s})},children:[t.jsx(i,{id:"customer-name",label:"اسم الزبون",value:r,onChange:e=>u(e.target.value)}),t.jsx(i,{type:"number",id:"customer-number",label:"رقم الزبون",value:s,onChange:e=>n(e.target.value)}),t.jsx(l,{type:"submit",className:"w-full",disabled:a.isPending,children:a.isPending?"جاري الإضافة...":"اضافة"})]})})}export{v as C};
