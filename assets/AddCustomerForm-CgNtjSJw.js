import{R as m,f as b,j as t,J as i}from"./index-D9SdI5e-.js";import{P as C,F as l}from"./FormInput-CpqofyxA.js";import{B as c}from"./button-C_OZHrl6.js";import{a as x}from"./customer-DH1gCgY9.js";import{u as g}from"./useMutation-lyefXRX2.js";function S({isOpen:d,setIsOpen:o,className:f}){const[r,u]=m.useState(""),[s,n]=m.useState(""),p=b(),a=g({mutationFn:e=>x({...e}),onSuccess:()=>{u(""),n(""),o(!1),p.invalidateQueries({queryKey:["customers-table"]})},onError:e=>{console.error(e),i.error("حدث خطأ أثناء إضافة الزبون")}});return t.jsx(C,{title:"اضافة الزبون",isOpen:d,setIsOpen:o,trigger:t.jsx(c,{type:"button",variant:"default",className:`w-full ${f}`,children:"اضافة زبون"}),children:t.jsxs("form",{action:"",className:"space-y-4",onSubmit:()=>{if(!r||!s){i.error("يرجى ملء جميع الحقول");return}else a.mutate({name:r,number:s})},children:[t.jsx(l,{id:"customer-name",label:"اسم الزبون",value:r,onChange:e=>u(e.target.value)}),t.jsx(l,{type:"number",id:"customer-number",label:"رقم الزبون",value:s,onChange:e=>n(e.target.value)}),t.jsx(c,{type:"submit",className:"w-full",disabled:a.isPending,children:a.isPending?"جاري الإضافة...":"اضافة"})]})})}export{S as C};
