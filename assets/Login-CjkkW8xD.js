import{k as u,r as n,l as d,j as s,J as p}from"./index-D9SdI5e-.js";import{B as g}from"./button-C_OZHrl6.js";import{I as l}from"./input-DkcmyAx5.js";import{C as x}from"./card-ObnbIFWj.js";async function h({username:r,password:o}){try{return(await u.post("/api/auth/login",{username:r,password:o,role:"admin"})).data}catch(a){throw console.error("خطأ في تسجيل الدخول:",a),new Error("خطأ أثناء تسجيل الدخول")}}function v(){const[r,o]=n.useState(""),[a,i]=n.useState(""),c=d(),m=async t=>{t.preventDefault();const e=await h({username:r,password:a});e!=null&&e.message.includes("بنجاح")?(localStorage.setItem("InventoryUser",JSON.stringify(e.user)),c("/dashboard")):(console.log(e),p.error((e==null?void 0:e.error)||"فشل تسجيل الدخول"))};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 dark:bg-gray-900",children:s.jsxs(x,{className:"p-8 rounded-xl shadow-xl w-full max-w-md space-y-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-center",children:"Login"}),s.jsxs("form",{onSubmit:m,className:"space-y-4",children:[s.jsx(l,{type:"text",placeholder:"Username",value:r,onChange:t=>o(t.target.value)}),s.jsx(l,{type:"password",placeholder:"Password",value:a,onChange:t=>i(t.target.value)}),s.jsx(g,{type:"submit",className:"w-full",children:"Login"})]})]})})}export{v as default};
